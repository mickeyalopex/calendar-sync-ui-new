:root{--primary:#4285f4;--primary-dark:#3367d6;--success:#34a853;--warning:#fbbc04;--error:#ea4335;--background:#f8f9fa;--surface:#fff;--text:#202124;--text-secondary:#5f6368;--border:#dadce0;--shadow:0 1px 3px rgba(0,0,0,.12),0 1px 2px rgba(0,0,0,.24);--shadow-lg:0 10px 40px rgba(0,0,0,.15);--radius:8px;--radius-lg:12px}*{margin:0;padding:0;box-sizing:border-box}body{font-family:Inter,-apple-system,BlinkMacSystemFont,sans-serif;background:var(--background);color:var(--text);line-height:1.6;min-height:100vh}.container{max-width:800px;margin:0 auto;padding:20px}.header{display:flex;justify-content:space-between;align-items:center;padding:20px 0;margin-bottom:30px;border-bottom:1px solid var(--border)}.logo{display:flex;align-items:center;gap:12px}.logo-icon{font-size:32px}.logo-text{font-size:24px;font-weight:700}.user-info{display:flex;align-items:center;gap:12px}.avatar{width:36px;height:36px;border-radius:50%}.step{background:var(--surface);border-radius:var(--radius-lg);box-shadow:var(--shadow);margin-bottom:24px;overflow:hidden}.step-header{display:flex;align-items:center;gap:16px;padding:20px 24px;background:linear-gradient(135deg,#f8f9fa,#fff);border-bottom:1px solid var(--border)}.step-number{display:flex;align-items:center;justify-content:center;width:32px;height:32px;background:var(--primary);color:#fff;border-radius:50%;font-weight:600;font-size:14px}.step-header h2{font-size:18px;font-weight:600}.step-content{padding:24px}.signin-content{text-align:center;padding:40px 24px}.signin-content p{margin-bottom:24px;color:var(--text-secondary)}#google-signin-btn{display:inline-block;margin-bottom:16px}.hint{font-size:13px;color:var(--text-secondary)}.calendar-section{margin-bottom:24px}.calendar-section h3{font-size:14px;font-weight:600;text-transform:uppercase;letter-spacing:.5px;color:var(--text-secondary);margin-bottom:12px}.section-hint{font-size:14px;color:var(--text-secondary);margin-bottom:16px}.calendars-list,.rules-list{display:flex;flex-direction:column;gap:12px;margin-bottom:16px}.calendar-item,.rule-item{display:flex;align-items:center;gap:12px;padding:16px;background:var(--background);border-radius:var(--radius);border:1px solid var(--border)}.calendar-item.work{background:linear-gradient(135deg,#e8f0fe,#f8f9fa);border-color:var(--primary)}.calendar-icon{font-size:24px}.calendar-email{flex:1;font-weight:500}.calendar-badge{font-size:12px;padding:4px 8px;background:var(--primary);color:#fff;border-radius:4px}.calendar-badge.external{background:var(--success)}.calendar-badge.pending{background:var(--warning);color:var(--text)}.rule-flow{display:flex;align-items:center;gap:8px;flex:1}.rule-calendar{padding:6px 12px;background:var(--surface);border-radius:4px;font-size:14px;border:1px solid var(--border)}.rule-arrow{color:var(--text-secondary);font-size:18px}.rule-visibility{font-size:12px;padding:4px 8px;border-radius:4px}.rule-visibility.censored{background:#fce8e6;color:var(--error)}.rule-visibility.full{background:#e6f4ea;color:var(--success)}.toggle-option{display:flex;align-items:flex-start;gap:16px}.toggle{position:relative;display:inline-block;width:52px;height:28px;flex-shrink:0}.toggle input{opacity:0;width:0;height:0}.toggle-slider{position:absolute;cursor:pointer;inset:0;background:var(--border);transition:.3s;border-radius:28px}.toggle-slider:before{position:absolute;content:"";height:22px;width:22px;left:3px;bottom:3px;background:#fff;transition:.3s;border-radius:50%;box-shadow:var(--shadow)}.toggle input:checked+.toggle-slider{background:var(--primary)}.toggle input:checked+.toggle-slider:before{transform:translateX(24px)}.toggle-label strong{display:block;margin-bottom:4px}.toggle-label p{font-size:14px;color:var(--text-secondary)}.btn{display:inline-flex;align-items:center;justify-content:center;gap:8px;padding:12px 24px;font-size:14px;font-weight:500;border:none;border-radius:var(--radius);cursor:pointer;transition:all .2s}.btn-primary{background:var(--primary);color:#fff}.btn-primary:hover{background:var(--primary-dark)}.btn-secondary{background:var(--surface);color:var(--text);border:1px solid var(--border)}.btn-secondary:hover{background:var(--background)}.btn-small{padding:6px 12px;font-size:13px}.btn-large{padding:16px 48px;font-size:16px}.btn-danger{background:var(--error);color:#fff}.btn-copy{padding:4px 8px;font-size:12px;background:var(--background);border:1px solid var(--border);border-radius:4px;cursor:pointer;margin-left:8px}.save-section{text-align:center;padding:32px}.save-status{margin-top:16px;font-size:14px}.save-status.success{color:var(--success)}.save-status.error{color:var(--error)}.modal{position:fixed;inset:0;background:rgba(0,0,0,.5);display:flex;align-items:center;justify-content:center;z-index:1000}.modal-content{background:var(--surface);border-radius:var(--radius-lg);width:90%;max-width:500px;max-height:90vh;overflow-y:auto;box-shadow:var(--shadow-lg)}.modal-header{display:flex;justify-content:space-between;align-items:center;padding:20px 24px;border-bottom:1px solid var(--border)}.modal-header h3{font-size:18px;font-weight:600}.modal-close{background:none;border:none;font-size:24px;cursor:pointer;color:var(--text-secondary)}.modal-body{padding:24px}.modal-footer{display:flex;justify-content:flex-end;gap:12px;padding:16px 24px;border-top:1px solid var(--border);background:var(--background)}.form-group{margin-bottom:20px}.form-group label{display:block;font-weight:500;margin-bottom:8px}.form-group input,.form-group select{width:100%;padding:12px;font-size:14px;border:1px solid var(--border);border-radius:var(--radius);background:var(--surface)}.form-group input:focus,.form-group select:focus{outline:none;border-color:var(--primary);box-shadow:0 0 0 3px rgba(66,133,244,.1)}.field-hint{font-size:13px;color:var(--text-secondary);margin-top:8px}.instructions{background:#e8f0fe;padding:16px;border-radius:var(--radius);margin-bottom:20px}.instructions h4{font-size:14px;margin-bottom:12px}.instructions ol{margin-left:20px;font-size:14px}.instructions li{margin-bottom:8px}.instructions code{background:#fff;padding:2px 6px;border-radius:4px;font-size:12px;word-break:break-all}.loading-overlay{position:fixed;inset:0;background:rgba(255,255,255,.9);display:flex;flex-direction:column;align-items:center;justify-content:center;z-index:2000}.spinner{width:48px;height:48px;border:4px solid var(--border);border-top-color:var(--primary);border-radius:50%;animation:spin 1s linear infinite;margin-bottom:16px}@keyframes spin{to{transform:rotate(360deg)}}.toast-container{position:fixed;bottom:24px;right:24px;z-index:3000}.toast{display:flex;align-items:center;gap:12px;padding:16px 20px;background:var(--text);color:#fff;border-radius:var(--radius);margin-top:12px;box-shadow:var(--shadow-lg);animation:slideIn .3s ease}.toast.success{background:var(--success)}.toast.error{background:var(--error)}@keyframes slideIn{from{transform:translateX(100%);opacity:0}to{transform:translateX(0);opacity:1}}.footer{text-align:center;padding:20px;color:var(--text-secondary);font-size:14px}.footer a{color:var(--primary);text-decoration:none}.hidden{display:none!important}@media(max-width:600px){.container{padding:12px}.header{flex-direction:column;gap:16px}.step-content{padding:16px}.rule-flow{flex-direction:column;align-items:flex-start}.btn-large{width:100%}}